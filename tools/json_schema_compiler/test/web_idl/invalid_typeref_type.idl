// Copyright 2025 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

dictionary ExampleType {
  required DOMString someString;
};

callback OnTestListener = undefined ();
interface OnTestEvent : ExtensionEvent {
  static void addListener(OnTestListener listener);
  static void removeListener(OnTestListener listener);
  static void hasListener(OnTestListener listener);
};

// Example WebIDL schema which is invalid due to it referencing a typeref-style
// type whose definition is not one of the valid type classes (Dictionary, Enum
// or Callback). This should raise a SchemaCompilerError.
interface TestWebIdl {
  // This function returns a type correctly defined in the file.
  static ExampleType returnsExampleType();
  // This function returns a type which is actually an Interface node for an
  // event and should raise a SchemaCompilerError.
  static OnTestEvent returnsEventInterfaceType();

  // A normal valid reference to the event Interface defined in the schema.
  static attribute OnTestEvent onTest;
};

partial interface Browser {
  static attribute TestWebIdl testWebIdl;
};
